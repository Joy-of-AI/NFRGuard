[
  {
    "displayName": "NFRGuard - High CPU Usage",
    "conditions": [
      {
        "displayName": "High CPU Usage",
        "conditionThreshold": {
          "filter": "resource.type=\"k8s_container\" AND resource.labels.cluster_name=\"bank-of-anthos\" AND resource.labels.namespace_name=\"nfrguard-agents\" AND metric.type=\"kubernetes.io/container/cpu/core_usage_time\"",
          "comparison": "COMPARISON_GREATER_THAN",
          "thresholdValue": 0.8,
          "duration": "300s",
          "aggregations": [
            {
              "alignmentPeriod": "60s",
              "perSeriesAligner": "ALIGN_MEAN",
              "crossSeriesReducer": "REDUCE_MEAN"
            }
          ]
        }
      }
    ],
    "alertStrategy": {
      "autoClose": "1800s"
    },
    "notificationChannels": [],
    "enabled": true
  },
  {
    "displayName": "NFRGuard - Pod Restart",
    "conditions": [
      {
        "displayName": "Pod Restart",
        "conditionThreshold": {
          "filter": "resource.type=\"k8s_container\" AND resource.labels.cluster_name=\"bank-of-anthos\" AND resource.labels.namespace_name=\"nfrguard-agents\" AND metric.type=\"kubernetes.io/container/restart_count\"",
          "comparison": "COMPARISON_GREATER_THAN",
          "thresholdValue": 0,
          "duration": "60s",
          "aggregations": [
            {
              "alignmentPeriod": "60s",
              "perSeriesAligner": "ALIGN_RATE",
              "crossSeriesReducer": "REDUCE_SUM"
            }
          ]
        }
      }
    ],
    "alertStrategy": {
      "autoClose": "1800s"
    },
    "notificationChannels": [],
    "enabled": true
  },
  {
    "displayName": "NFRGuard - Memory Usage",
    "conditions": [
      {
        "displayName": "High Memory Usage",
        "conditionThreshold": {
          "filter": "resource.type=\"k8s_container\" AND resource.labels.cluster_name=\"bank-of-anthos\" AND resource.labels.namespace_name=\"nfrguard-agents\" AND metric.type=\"kubernetes.io/container/memory/used_bytes\"",
          "comparison": "COMPARISON_GREATER_THAN",
          "thresholdValue": 500000000,
          "duration": "300s",
          "aggregations": [
            {
              "alignmentPeriod": "60s",
              "perSeriesAligner": "ALIGN_MEAN",
              "crossSeriesReducer": "REDUCE_MEAN"
            }
          ]
        }
      }
    ],
    "alertStrategy": {
      "autoClose": "1800s"
    },
    "notificationChannels": [],
    "enabled": true
  }
]